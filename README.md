# Втора лабораториска вежба по Софтверско инженерство
## Анастасија Гочевска, бр. на индекс 213005

## Control Flow Graph


![slika (2)](https://github.com/agocevska02/SI_2023_lab2_213005/assets/107998498/d2724f58-babd-4562-b20c-f4e6a435afb4)



## Цикломатска комплексност 
 Цикломатската комплексност на овој Control Flow Graph е **11**  
 Постојат неколку начини за да ја одредиме цикломатската сложеноста на графот:  
 Решение:    
             1) Доколку ги изброиме регионите во овој граф ќе видеме дека има 11 региони што одговара на цикломатската сложеност    
             2) Цикломатска сложеност= Број на предикатни јазли + 1 = 10+1 = 11
             
## Every branch - C1
             
|    | allUsers=[{gocevskaane,anastasija02@gmail.com,"adadada"},{anastasija,gocevska@gmail.com,"ASDASD"},{gocevskaane,gocevska@gmail.com}] |                                                                       |                                                             |                                                                       |
|----|-------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|-------------------------------------------------------------|-----------------------------------------------------------------------|
|    |                                                                                                                                     |                                                                       |                                                             |                                                                       |
| C1 | user=null                                                                                                                           | "username=null password = "ani4e", mail="anastasija02@gmail.com "  | username=gocevskaane, email=anastasija02.com ,pass=s oftfink | username=gocevskaane, email=anastasija02@gmail.com pass=\*proba\*test&  |
|                   |   |   |   |    |
| 36-37             | 1 | 0 | 0 | 0  |
| 37-75             | 1 | 0 | 0 | 0  |
| 36-40             | 0 | 1 | 1 | 1  |
| 40-41             | 0 | 1 | 0 | 0  |
| 41-44,45          | 0 | 1 | 0 | 0  |
| 40-44,45          | 0 | 0 | 1 | 1  |
| 44,45-58,59,60,62 | 0 | 0 | 1 | 0  |
| 44,45-46          | 0 | 1 | 0 | 1  |
| 46-47.1           | 0 | 1 | 0 | 1  |
| 47.1-47.2         | 0 | 1 | 0 | 1  |
| 47.2-58,59,60,62  | 0 | 1 | 0 | 1  |
| 47.2-48,49        | 0 | 0 | 0 | 1  |
| 48,49-50          | 0 | 0 | 0 | 1  |
| 50-52             | 0 | 0 | 0 | 1  |
| 48,49-52          | 0 | 0 | 0 | 1  |
| 52-53             | 0 | 0 | 0 | 1  |
| 53-47.3           | 0 | 0 | 0 | 1  |
| 52-47.3           | 0 | 0 | 0 | 1  |
| 47.3-47.2         | 0 | 0 | 0 | 1  |
| 58,59,60,62-63    | 0 | 1 | 0 | 0  |
| 63-75             | 0 | 1 | 0 | 0  |   
| 58,59,60,62-66 | 0 | 0 | 1 | 1  |   
| 66-74          | 0 | 0 | 1 | 0  |   
| 74-75             | 0 | 0 | 1 | 0  |   
| 66-67.1        | 0 | 0 | 0 | 1  |   
| 67.1-67.2         | 0 | 0 | 0 | 1  |   
| 67.2-74           | 0 | 0 | 0 | 1  |   
| 67.2-68           | 0 | 0 | 0 | 1  |   
| 68-67.3           | 0 | 0 | 0 | 1  |   
| 68-69             | 0 | 0 | 0 | 1  | 
| 69-75 | 0 |0 | 0 | 1 |
| 67.3-67.2 | 0 |0 | 0 | 1 |


Со every branch методата потребно е да се поминат сите ребра во графот погоре. За таа цел мене ми беа потребни 4 тестови за да ги опфатам сите тестови. Во табелата погоре се дадени сите 32 ребра што се среќаваат во графот. Тест случаевите се дадени во колоните. Во allUsers листата ставив само 1 User и соодветно според кодот формирав тест случаи.  
На пример во првиот случај каде што user=null , ребра кои што се поминуваат се 36-37 и  37-75 бидејќи примерот е таков што  ќе влези во дадените линии на код и ќе фрли исклучок.   
Вториот случај за разлика од првиот не ги поминува линиите кои што ги поминал првиот случај туку се движи по друга патека. Првично 36 проверува дали корисникот, пасвордот или маилот се null, бидејќи не се соодветно преминува на наредната линија односно линија 40 во која имаме повоторно услов во кој се проверува дали името на корисникот е null. Нашиот тест случај го исполнува овој случај па влегува внатре 41 во условот и го сетира името да биде исто како меилот. Потоа доаѓаме до друг услов 44,45 во кој што се проверува дали е меилот правилен, бидејќи е точен соодветно влегуваме кон линија 46, во for цилусот ќе се извршат само 47.1 и 47.2, но условот нема да биде исполнет  бидејќи во тој момент allUsers.size=0 , потоа одиме кон линиите 58,59,60,62  каде повторно имаме услов и бидејќи нашиот пасворд содржи помалку од 8 карактери условот ќе биде исполнет и ќе влезиме во 63 линија , што значи очекуваме програмата да врати false и соодветно се движиме кон линија 75.  
На сличен начин се одвиваат и следните тест случаи кои се така погодни се со цел за да ги опфатиме сите ребра.  

## Multiple condition
| Multiple Condition | if (user==null \|\| user.getPassword()==null \|\| user.getEmail()==null) |   |
|---|---|---|
| Combination | Possible Test Case | Branch  |
| TXX | user=null | 36-37-75  |
| FTX | username="anastasija",password=null,email="anastasija02@gmail.com" | 36-37-75  |
| FFT | username="anastasija",password="sacdascd12",email=null | 36-37-75  |
| FFF | username="anastasija",password="ASdsadasd",email="anastasijagocevska@gmail.com" | 36-40 |

Како што можеме да видеме од табелата погоре за multiple condition, имаме 4 комбинации кои може да се опфатат, тоа е така бидејќи \|\| (или) операторот работи на таков начин што потребно е барем еден од условите да биде исполнет за да е точен условот. За сите 4 комбинации соодветно напишав тест пример како и јазлите кои би ги поминале доколку соодветно се изврши некој од дадените примери.

  
## Unit testing

Соодветно формирав класа SILab2Test  во која што сите тест случаи кои што ги имав напишано за every branch ги тестирав во самиот код. За првиот тест случај бидејќи ја опфаќа патеката 36-37-75 потребно е да фрли исклучок па според тоа користев assertThrows  и внатре во таа команда ја повикав  функцијата од SILab2 која очекува  два параметри. Односно првиот параметар корисникот кој што во првиот случај е null и вториот параметар  allUsers листата. Бидејќи исклучокот во себе содржи порака, соодветно после оваа команда со помош на командата assertTrue проверуваме дали се работи за истата порака. За сите други случаеви  користев assertFalse бидејќи сите други избрани примери се очекува да вратат false вредност. Во тестирањето за multiple condition  користев  assertThrows, assertTrue и assertFalse.

-Every branch
Соодветно за every branch тестирањето, бидејќи во првите два тест случаи allUsers.size=0 , соодветно пред да додадам users во листата направив тестирање за тие слуачи на следниов начин :
> 1 test case:  
  ex= assertThrows(RuntimeException.class,() -> SILab2.function(null,allUsers));  
   assertTrue(ex.getMessage().contains("Mandatory information missing!"));
   
> 2 test case:         
 User NullName = new User(null, "ani4e", "anastasija02@gmail.com");  
 assertFalse(SILab2.function(NullName, allUsers));

1- тест случај треба да фрли исклучок па според тоа ја користев командатат **assertThrows** за да го фатиме исклучокот па соодветно со командата **assertTrue** да ја провериме пораката.
2- тест случај не фрла исклучок туку оечкуваме да врати false како вредност па поради тоа со помош на **assertFaslе** го напишав тестот со соодветни параметри.

 Ова се соодветно уште другите тест случаеви кои што се изработени слично како претходните, само разликата е во тоа што за овие два тест случаи allUsers листата има големина 3. 
> 3 test case:  
        User u3=new User("gocevskaane","s oftfink","anastasija02.com");  
        assertFalse(SILab2.function(u3, allUsers));  

> 4 test case:  
       User u4 = new User("gocevskaane","*proba*test&","anastasija02@gmail.com");  
        assertFalse(SILab2.function(u4,allUsers));  

Multiple condition
Овој пример е за [T-X-X]  бидејќи првиот дел од условот е исполнет нема потреба да се разгледуваат другите делови. Бидејќи овој тест пример фрла исклучок потребно е тој исклучок да го фатиме па соодветно да ја провериме пораката дали е таа што ја очекувавме.
Следните 2 примери се исти како овој само со различни вредности на параметрите.
>  RuntimeException ex;  
        ex= assertThrows(RuntimeException.class,() -> SILab2.function(null,allUsers));  
        assertTrue(ex.getMessage().contains("Mandatory information missing!"));  
        

4от случај е малку поразличен :
>User u1=new User("anastasija","ASdsadasd","anastasijagocevska@gmail.com");  
        assertFalse(SILab2.function(u1,allUsers));      
        

Овој тест случај е за [F-F-F] каде што не е исполнет ниту еден услов па соодветно очекуваме да врати false.
Во глобала сите начини за формирање тестови се слични, разликата е во тоа што очекуваме како резултат. Па според тоа го креираме тест случајот.


